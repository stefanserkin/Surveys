<template>
    <lightning-card title="Surveys!" icon-name="standard:survey">
        
        <div class="slds-var-m-around_medium">
            <p>-- DEBUG --</p>
            <p>Record Id: {recordId}</p>
            <p>Contact Id: {contactId}</p>
        </div>

        <!-- QUESTIONS -->
        <template if:true={currentPageAnswers}>
            <template for:each={currentPageAnswers} for:item="ans">
                <div key={ans.qId} class="slds-var-m-around_medium">
                    <lightning-input type={ans.dataType}
                                     name={ans.qId} 
                                     label={ans.question} 
                                     value={ans.answer} 
                                     field-level-help={ans.helpText} 
                                     data-qid={ans.qId}
                                     onchange={handleInputChange}
                    ></lightning-input>
                </div>
            </template>
        </template>

        <template if:false={currentPageAnswers}>
            <p>{noQuestionsMessage}</p>
        </template>

        <div class="slds-var-m-around_medium">
            <lightning-button-group>
                <lightning-button label="Previous" variant="neutral" onclick={previousPage} disabled={disablePreviousButton}></lightning-button>
                <lightning-button label="Next" variant="neutral" onclick={nextPage} disabled={disableNextButton}></lightning-button>
            </lightning-button-group>
            <lightning-button variant="brand" label="Submit" onclick={handleSubmitSurvey} class="slds-var-m-left_medium"></lightning-button>
        </div>

    </lightning-card>
</template>